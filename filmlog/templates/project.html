{% extends "base.html" %}

{% block content %}
  <h1 class="page-header">{{ project.name }}</h1>

  <h3>Rolls / Films</h3>
  <div class="card">
    <table class="table table-striped table-bordered" id="films">
      <tr>
          <th>Name</th>
          <th>File No.</th>
          <th>Exposures</th>
          <th>Camera</th>
          <th>Film</th>
          <th>File Date</th>
      </tr>
      {% for film in films %}
          <tr>
              <td><a href="/binders/{{ binderID }}/projects/{{ project.projectID }}/films/{{ film.filmID }}">{{ film.title }}</a></td>
              <td>{{ film.fileNo }}</td>
              <td>{{ film.exposures }}</td>
              <td>{{ film.camera }}</td>
              <td>{{ film.brand }} {{ film.filmName }} at {{ film.iso }}</td>
              <td>{{ film.fileDate|to_date }}</td>
          </tr>
      {% else %}
        <tr><td colspan="6">No Films Found</td></tr>
      {% endfor %}
    </table>
  </div>

  <div class="card">
    <div class="card-header"><strong>Add Roll/Film</strong></div>
    <div class="card-body">
      {% include 'form_errors.html' %}
      <form role="form" class="form-horizontal"
        action="/binders/{{ binderID }}/projects/{{ project.projectID }}"
        method="POST">
        {{ form.csrf_token }}
        <div class="form-group row">
          <div class="col-sm-4">
            {{ form.title.label }}
            {{ form.title(class="form-control", placeholder="My Film Roll") }}
          </div>
          <div class="col-sm-4">
            {{ form.fileNo.label }}
            {{ form.fileNo(class="form-control", placeholder="BW1") }}
          </div>
          <div class="col-sm-4">
            {{ form.fileDate.label }}
            {{ form.fileDate(class="form-control", placeholder="YYYY-MM-DD") }}
            <small id="fileDateHelp" class="form-text text-muted">Leave blank to use today</small>
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-4">
            {{ form.filmTypeID.label }}
            {{ form.filmTypeID(class="form-control") }}
          </div>
          <div class="col-sm-4">
            {{ form.shotISO.label }}
            {{ form.shotISO(class="form-control", placeholder="400") }}
          </div>
          <div class="col-sm-4">
            {{ form.cameraID.label }}
            {{ form.cameraID(class="form-control") }}
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-4">
            {{ form.loaded.label }}
            {{ form.loaded(class="form-control", placeholder="YYYY-MM-DD") }}
          </div>
          <div class="col-sm-4">
            {{ form.unloaded.label }}
            {{ form.unloaded(class="form-control", placeholder="YYYY-MM-DD") }}
          </div>
          <div class="col-sm-4">
            {{ form.developed.label }}
            {{ form.developed(class="form-control", placeholder="YYYY-MM-DD") }}
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
            {{ form.development.label }}
            {{ form.development(class="form-control", placeholder="ID-11 at 20C for 20 minutes") }}
          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-12">
              {{ form.notes.label }}
              {{ form.notes(class="form-control", placeholder="My notes") }}
          </div>
        </div>
        <div class="button-bar">
          <button class="btn btn-success" action="submit">Save</button>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
