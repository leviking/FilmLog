{% extends "base.html" %}

{% block content %}
  <h1 class="page-header">{{ developer.name }}</h1>
  <ul>
    <li><strong>Mixed On:</strong> {{ developer.mixedOn }}</li>
    <li><strong>Replenishment:</strong> {{ developer.replenishment }}</li>
    <li><strong>State:</strong> {{ developer.state }}</li>
    <li><strong>Notes:</strong><br />
      {{ developer.notes }}<br />
    </li>
  </ul>
  <h4>Total Films Developed</h4>
  <table class="table table-striped table-bordered">
    <tr>
      <th>Size</th>
      <th>Film</th>
      <th>Qty</th>
    </tr>
    {% for film in film_stats %}
      <tr>
        <td>{{ film.filmSize }}</td>
        <td>{{ film.filmBrand }} {{ film.filmName }} {{ film.iso }}</td>
        <td>{{ film.qty }}</td>
      </tr>
    {% endfor %}
  </table>

  <h4>Development Logs</h4>
  <table class="table table-striped table-bordered">
    <tr>
      <th>Developed On</th>
      <th>Replenished Capacity (ml)</th>
      <th>Films Developed</th>
      <th>Development Time</th>
      <th>Temperature (C)</th>
      <th>Notes</th>
    </tr>
    {% for log in developer_logs %}
      <tr>
        <td>{{ log.loggedOn }}</td>
        <td>{{ log.mlReplaced }}</td>
        <td>
          {% for film in log.films %}
            {{ film.qty }}x {{ film.filmSize }} {{ film.filmBrand }} {{ film.filmName }} {{ film.iso }}
            {% if film.compensation > 0 %}
              Pushed +{{ film.compensation }}
              {% if film.compensation > 1 %}
                Stops
              {% else %}
                Stop
              {% endif %}
            {% elif film.compensation < 0 %}
              Pulled {{ film.compensation }}
              {% if film.compensation < 1 %}
                Stops
              {% else %}
                Stop
              {% endif %}
            {% endif %}
            <br />
          {% endfor %}
        </td>
        <td>{{ log.devTime }}</td>
        <td>{{ log.temperature }}</td>
        <td>{{ log.notes }}</td>
      </tr>
    {% endfor %}
  </table>


{% endblock %}
